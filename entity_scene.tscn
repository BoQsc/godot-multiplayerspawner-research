[gd_scene load_steps=3 format=3 uid="uid://dub7iv64uw2iq"]

[sub_resource type="GDScript" id="GDScript_qggms"]
resource_name = "entity_Scene"
script/source = "# Method 1: Simple position-based movement
#entity_scene node
extends Node2D

func _enter_tree():
	# Set authority BEFORE _ready() - this is critical for MultiplayerSynchronizer
	var player_id = int(name)
	set_multiplayer_authority(player_id)

@export var speed = 300.0

func _physics_process(delta: float) -> void:
	if is_multiplayer_authority():
		var velocity = Input.get_vector(\"ui_left\", \"ui_right\", \"ui_up\", \"ui_down\") * speed
		position += velocity * delta
"

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_qsx0g"]
properties/0/path = NodePath(".:position")
properties/0/spawn = true
properties/0/replication_mode = 2
properties/1/path = NodePath("ColorRect:color")
properties/1/spawn = true
properties/1/replication_mode = 2

[node name="entity_scene" type="Node2D"]
script = SubResource("GDScript_qggms")

[node name="ColorRect" type="ColorRect" parent="."]
offset_right = 40.0
offset_bottom = 40.0
color = Color(1, 0, 1, 1)

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_qsx0g")
