[gd_scene load_steps=4 format=3 uid="uid://dslh1c7rihy52"]

[ext_resource type="Texture2D" uid="uid://bxoyje2pq7nna" path="res://icon.svg" id="1_0f027"]

[sub_resource type="GDScript" id="GDScript_2c62f"]
resource_name = "Multiplayer"
script/source = "extends Node

const port=4443

func _ready() -> void:
	var peer = ENetMultiplayerPeer.new()
	peer.create_server(port)
	multiplayer.multiplayer_peer = peer
	if multiplayer.is_server():
		load(\"res://entity_scene.tscn\").instantiate()
	pass 


func _process(delta: float) -> void:
	pass
"

[sub_resource type="GDScript" id="GDScript_0f027"]
resource_name = "MultiplayerSpawner"
script/source = "extends MultiplayerSpawner


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	
	for i in range(get_spawnable_scene_count()):
		load(get_spawnable_scene(i)).instantiate()
		print(get_spawnable_scene(i))

	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	pass
"

[node name="Node2D" type="Node2D"]

[node name="Multiplayer" type="Node" parent="."]
script = SubResource("GDScript_2c62f")

[node name="MultiplayerSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("uid://dub7iv64uw2iq")
spawn_path = NodePath("../SpawnContainer")
script = SubResource("GDScript_0f027")

[node name="SpawnContainer" type="Node2D" parent="."]

[node name="Sprite2D" type="Sprite2D" parent="SpawnContainer"]
texture = ExtResource("1_0f027")
